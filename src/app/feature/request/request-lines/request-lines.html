
<h4>Request {{ request.id }} – Line Items</h4>

<table class="table table-sm w-auto mb-3" *ngIf="request">
  <tr><th>User</th><td>{{ request.user.firstName }} {{request.user.lastName}}</td></tr>
  <tr><th>Description</th><td>{{ request.description }}</td></tr>
  <tr><th>Status</th><td>{{ request.status }}</td></tr>
  <tr><th>Total</th><td>{{ request.total }}</td></tr>
</table>

<section class="d-flex align-items-center mb-2">
  <span class="fw-bold">Line Items</span>
  <img src="/add-icon.png" width="20" height="20" class="ms-auto"
       title="Add Line Item" style="cursor:pointer" (click)="goAddLine()" />
</section>

<table *ngIf="lineItems.length; else empty" class="table table-striped table-hover">
  <thead>
    <th>ID</th><th>Product</th><th>Qty</th><th></th>
  </thead>
  <tr *ngFor="let li of lineItems">
    <td>{{ li.id }}</td>
    <td>{{ li.productId }}</td>
    <td>{{ li.quantity }}</td>
    <td>
      <i class="bi bi-trash3" width="18" height="18"
           style="cursor:pointer" title="Delete"
           (click)="deleteLine(li.id)"></i>
    </td>
  </tr>
</table>

<ng-template #empty>
  <p class="fst-italic">— no line items yet —</p>
</ng-template>

<button class="btn btn-primary mt-3" (click)="submitRequest()">Submit Request for Review</button>

